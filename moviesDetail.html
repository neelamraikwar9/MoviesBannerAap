<!DOCTYPE html>
<html>
  <head>
    <title>Movie Detail</title>
    <link
      href="
  https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css"
      rel="stylesheet"
    />
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
  </head>
  <body>
    <header class="bg-light">
      <nav class="navbar navbar-expand-lg text-secondary">
        <div class="container">
          <a class="navbar-brand" href="index.html">Movie Database</a>

          <button
            class="navbar-toggler"
            type="button"
            data-bs-toggle="collapse"
            data-bs-target="#navbarNav"
            aria-controls="navbarNav"
            aria-expanded="false"
            aria-label="Toggle navigation"
          >
            <span class="navbar-toggler-icon"></span>
          </button>

          <div class="collapse navbar-collapse" id="navbarNav">
            <ul class="navbar-nav">
              <li class="nav-item">
                <a href="index.html" class="nav-link">Home</a>
              </li>
              <li class="nav-item">
                <a href="movies.html" class="nav-link">Movies</a>
              </li>
              <li class="nav-item">
                <a href="report.html" class="nav-link">Report</a>
              </li>
            </ul>
          </div>
        </div>
      </nav>
    </header>
    <!-- <main>
      <h2 class="container py-3">Movie Details</h2>
      <section id="movieDetail"></section>
    </main> -->
    <!-- <script>
      let movie = [
        {
          id: "1",
          moviee: "Movie 1",
          genre: "Action",
          details: "This is an action-packed movie.",
        },

        {
          id: "2",
          moviee: "Movie 2",
          genre: "Drama",
          details: "A dramatic story unfolds in this movie.",
        },

        {
          id: "3",
          moviee: "Movie 3",
          genre: "Comedy    ",
          details: "This movie is on a real incident.",
        },
      ];

      function getParameterById(id) {
        let url = new URL(window.location.href);
        return url.searchParams.get(id);
      }

      let movieId = getParameterById("id");

      let moviie;
      for (let i = 0; i < movie.length; i++) {
        if (movie[i].id === movieId) {
          moviie = movie[i];
        }
      }

      let movieDetailElement = document.getElementById("movieDetail");
      if (moviie) {
        movieDetailElement.innerHTML = `
     
       <div class="container"> 
        <div class="col-md-8">
       <div class="card container py-3">
       <h4>${moviie.moviee}</h4>
       <p><strong>Genre: </strong> ${moviie.genre}</p>
       <p><strong>Details: </strong> ${moviie.details}</p>
       </div>
       </div>
       </div> 
       </div>
       
       `;
      }
    </script> -->

    <!-- Movies Detail Page creating with Js. -->

    <section class="container">
      <h1 class="py-3">Movie Details</h1>
      <div id="moviesDetail"></div>
    </section>

    <script>
      function getParameterByName(name) {
        const url = new URL(window.location.href);
        return url.searchParams.get(name);
      }

      const movieId = getParameterByName("id");
      console.log(movieId);

      const movies = [
        {
          id: 1,
          Movie: "Movie 1",
          Genre: "Action",
          Details: "This is an action-packed movie.",
          ReleaseDate: "2023-01-15",
          DirectorDetails: "John_Doe",
        },
        {
          id: 2,
          Movie: "Movie 2",
          Genre: "Drama",
          Details: "This is an action-packed movie.",
          ReleaseDate: "2023-02-20",
          DirectorDetails: "Jane_Smith",
        },
      ];

      const movie = movies.find((m) => m.id === parseInt(movieId));

      const moviesDetail = document.querySelector("#moviesDetail");

      if (movie) {
        const div = document.createElement("div");
        divclassName = "col-md-6";

        const card = document.createElement("div");
        card.className = "card container";

        // const cardHeader = document.createElement("div");
        // cardHeader.className = "card-header";

        // const cardBody = document.createElement("div");
        // cardBody.className = "card-body";

        const h3 = document.createElement("h3");
        h3.className = "card-title py-2";
        h3.textContent = movie.Movie;

        card.appendChild(h3);

        const Genre = document.createElement("p");
        Genre.className = "card-text";
        Genre.innerHTML = `<strong>Genre: </strong>${movie.Genre}`;

        const Details = document.createElement("p");
        Details.className = "card-text";
        Details.innerHTML = `<strong>Details: </strong>${movie.Details}`;

        const ReleaseDate = document.createElement("p");
        ReleaseDate.className = "card-text";
        ReleaseDate.innerHTML = `<strong>Release Date: </strong>${movie.ReleaseDate}`;

        const DirectorDetails = document.createElement("p");
        DirectorDetails.className = "card-text";
        DirectorDetails.innerHTML = `<strong>Director Details: </strong>${movie.DirectorDetails}`;

        card.appendChild(Genre);
        card.appendChild(Details);
        card.appendChild(ReleaseDate);
        card.appendChild(DirectorDetails);

        div.appendChild(card);
        moviesDetail.appendChild(div);
      } else {
        const message = document.createElement("div");
        message.className = "alert alert-danger";
        message.textContent = "movie not found!";
        moviesDetail.appendChild(message);
      }
    </script>
  </body>
</html>
